[{"/Users/inezescandon/htx-tacos/client/src/App.js":"1","/Users/inezescandon/htx-tacos/client/src/index.js":"2","/Users/inezescandon/htx-tacos/client/src/pages/homepage/index.js":"3","/Users/inezescandon/htx-tacos/client/src/utils/API.js":"4","/Users/inezescandon/htx-tacos/client/src/reportWebVitals.js":"5","/Users/inezescandon/htx-tacos/client/src/components/results/index.js":"6","/Users/inezescandon/htx-tacos/client/src/components/map/index.js":"7","/Users/inezescandon/htx-tacos/client/src/pages/infopage/index.js":"8","/Users/inezescandon/htx-tacos/client/src/components/navbar/index.js":"9","/Users/inezescandon/htx-tacos/client/src/components/card/index.js":"10","/Users/inezescandon/htx-tacos/client/src/components/filter/index.js":"11","/Users/inezescandon/htx-tacos/client/src/components/search/index.js":"12"},{"size":791,"mtime":1612065396918,"results":"13","hashOfConfig":"14"},{"size":542,"mtime":1611968798576,"results":"15","hashOfConfig":"14"},{"size":3936,"mtime":1612109652947,"results":"16","hashOfConfig":"14"},{"size":127,"mtime":1612107105204,"results":"17","hashOfConfig":"14"},{"size":362,"mtime":1611772311707,"results":"18","hashOfConfig":"14"},{"size":545,"mtime":1612060693882,"results":"19","hashOfConfig":"14"},{"size":1882,"mtime":1612109161727,"results":"20","hashOfConfig":"14"},{"size":1500,"mtime":1612103138144,"results":"21","hashOfConfig":"14"},{"size":666,"mtime":1612062588665,"results":"22","hashOfConfig":"14"},{"size":1866,"mtime":1612109588852,"results":"23","hashOfConfig":"14"},{"size":848,"mtime":1612061313211,"results":"24","hashOfConfig":"14"},{"size":492,"mtime":1612037582623,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1gme45a",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"/Users/inezescandon/htx-tacos/client/src/App.js",[],["57","58"],"/Users/inezescandon/htx-tacos/client/src/index.js",[],["59","60"],"/Users/inezescandon/htx-tacos/client/src/pages/homepage/index.js",["61"],"import React, { useState, useEffect } from 'react';\nimport Geocode from 'react-geocode';\nimport { getDistance } from 'geolib';\nimport './style.css';\nimport API from '../../utils/API';\nimport Results from '../../components/results';\nimport Map from '../../components/map';\nimport Filter from '../../components/filter';\nimport Search from '../../components/search';\n\nfunction Home() {\n\tlet [restaurants, setRestaurants] = useState([]);\n\tconst [centerPoint, setCenterPoint] = useState({\n\t\tlat: 29.749907,\n\t\tlng: -95.358421,\n\t});\n\tconst [userLocation, setUserLocation] = useState({});\n\tconst [search, setSearch] = useState('');\n\n\tuseEffect(() => {\n\t\tgetRestaurants();\n\t\tgetUserLocation();\n\t}, []);\n\n\tconst mapRef = React.useRef();\n\tconst onMapLoad = React.useCallback((map) => {\n\t\tmapRef.current = map;\n\t}, []);\n\n\tconst getRestaurants = () => {\n\t\tAPI.search()\n\t\t\t.then((res) => {\n\t\t\t\tsetRestaurants(res.data);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t};\n\n\tconst getUserLocation = () => {\n\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\t(position) => {\n\t\t\t\tsetCenterPoint({\n\t\t\t\t\tlat: position.coords.latitude,\n\t\t\t\t\tlng: position.coords.longitude,\n\t\t\t\t});\n\t\t\t\tsetUserLocation({\n\t\t\t\t\tlat: position.coords.latitude,\n\t\t\t\t\tlng: position.coords.longitude,\n\t\t\t\t});\n\t\t\t},\n\t\t\t() => null\n\t\t);\n\t};\n\n\tconst handleInputChange = ({ target }) => {\n\t\tconst { value } = target;\n\t\tsetSearch(value);\n\t};\n\n\tconst getLatAndLong = (search, event) => {\n\t\tevent.preventDefault();\n\t\tGeocode.setApiKey(process.env.REACT_APP_GOOGLE_API_KEY);\n\t\tGeocode.fromAddress(search).then(\n\t\t\t(response) => {\n\t\t\t\tconst { lat, lng } = response.results[0].geometry.location;\n\t\t\t\tsetCenterPoint({\n\t\t\t\t\tlat,\n\t\t\t\t\tlng,\n\t\t\t\t});\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t);\n\t\tsetSearch('');\n\t};\n\n\t// const getMoreInfo = () => {\n\trestaurants.map((restaurant) => {\n\t\tGeocode.setApiKey(process.env.REACT_APP_GOOGLE_API_KEY);\n\t\tGeocode.fromAddress(restaurant.address).then(\n\t\t\t(response) => {\n\t\t\t\tconst { lat, lng } = response.results[0].geometry.location;\n\t\t\t\trestaurant.location = {\n\t\t\t\t\tlat,\n\t\t\t\t\tlng,\n\t\t\t\t};\n\t\t\t\trestaurant.distance = (\n\t\t\t\t\tgetDistance(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlatitude: restaurant.location.lat,\n\t\t\t\t\t\t\tlongitude: restaurant.location.lng,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlatitude: centerPoint.lat,\n\t\t\t\t\t\t\tlongitude: centerPoint.lng,\n\t\t\t\t\t\t}\n\t\t\t\t\t) * 0.000621371192\n\t\t\t\t).toFixed(2);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t);\n\t});\n\t// };\n\n\t// let resArray = restaurants;\n\n\tlet sortDistance = () => {\n\t\tconsole.log('in sort distance func');\n\t\tconst filter = restaurants.sort(function (a, b) {\n\t\t\treturn a.distance - b.distance;\n\t\t});\n\t\tsetRestaurants(filter);\n\t\tconsole.log(restaurants);\n\t};\n\n\tlet sortName = () => {\n\t\tconsole.log('in sort name func');\n\t\tconst filter = restaurants.sort(function (a, b) {\n\t\t\treturn a.name.localeCompare(b.name);\n\t\t});\n\t\tsetRestaurants(filter);\n\t\tconsole.log(restaurants);\n\t};\n\n\tlet sortRating = () => {\n\t\tconsole.log('in sort rating func');\n\t\tconst filter = restaurants.sort(function (a, b) {\n\t\t\treturn a.ratingAvg - b.ratingAvg;\n\t\t});\n\t\tsetRestaurants(filter);\n\t\tconsole.log(restaurants);\n\t};\n\n\treturn (\n\t\t<div className=\"\">\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"col-7 pr-0\">\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\">\n\t\t\t\t\t\t\t<Filter\n\t\t\t\t\t\t\t\tsortDistance={sortDistance}\n\t\t\t\t\t\t\t\tsortName={sortName}\n\t\t\t\t\t\t\t\tsortRating={sortRating}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"col my-auto\">\n\t\t\t\t\t\t\t<Search\n\t\t\t\t\t\t\t\tsearch={search}\n\t\t\t\t\t\t\t\thandleInputChange={handleInputChange}\n\t\t\t\t\t\t\t\tgetLatAndLong={getLatAndLong}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<Results restaurants={restaurants} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-5 pl-0\" id=\"map_canvas\">\n\t\t\t\t\t<Map\n\t\t\t\t\t\trestaurants={restaurants}\n\t\t\t\t\t\tcenterPoint={centerPoint}\n\t\t\t\t\t\tonMapLoad={onMapLoad}\n\t\t\t\t\t\tuserLocation={userLocation}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Home;\n","/Users/inezescandon/htx-tacos/client/src/utils/API.js",["62"],"/Users/inezescandon/htx-tacos/client/src/reportWebVitals.js",[],["63","64"],"/Users/inezescandon/htx-tacos/client/src/components/results/index.js",[],"/Users/inezescandon/htx-tacos/client/src/components/map/index.js",["65","66"],"/Users/inezescandon/htx-tacos/client/src/pages/infopage/index.js",[],"/Users/inezescandon/htx-tacos/client/src/components/navbar/index.js",[],["67","68"],"/Users/inezescandon/htx-tacos/client/src/components/card/index.js",["69","70"],"import React, { useState, useEffect } from 'react';\nimport { Card } from 'react-bootstrap';\nimport './style.css';\n\nfunction CardComponent({ restaurant }) {\n\t// const [rating, setRating] = useState(0);\n\tconst starArray = [1, 2, 3, 4, 5];\n\tuseEffect(() => {\n\t\tratingAverage();\n\t}, []);\n\n\tconst ratingAverage = () => {\n\t\tvar ratingAvg = 0;\n\t\trestaurant.rating.forEach((num) => {\n\t\t\tratingAvg += num;\n\t\t});\n\t\trestaurant.ratingAvg = ratingAvg / restaurant.rating.length;\n\t};\n\n\treturn (\n\t\t<div className=\"mb-3 mx-3\">\n\t\t\t<Card key={restaurant._id} className=\"bg-dark text-white res-card\">\n\t\t\t\t<Card.Img src={restaurant.image} alt=\"Card image\" />\n\t\t\t\t<Card.ImgOverlay>\n\t\t\t\t\t<Card.Title>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col-8\">\n\t\t\t\t\t\t\t\t<p className=\"mb-0\">{restaurant.name}</p>\n\t\t\t\t\t\t\t\t<p className=\"distance\">{restaurant.distance} mi</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col-4 d-flex justify-content-end\">\n\t\t\t\t\t\t\t\t{restaurant.ratingAvg ? (\n\t\t\t\t\t\t\t\t\t<p className=\"mr-1\">{restaurant.ratingAvg}</p>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{starArray.map(() => {\n\t\t\t\t\t\t\t\t\t// switch (true) {\n\t\t\t\t\t\t\t\t\t// \tcase (rating = 0):\n\t\t\t\t\t\t\t\t\t// \t\t// code block\n\t\t\t\t\t\t\t\t\t// \t\tbreak;\n\t\t\t\t\t\t\t\t\t// \tcase rating < 1:\n\t\t\t\t\t\t\t\t\t// \t\t// code block\n\t\t\t\t\t\t\t\t\t// \t\tbreak;\n\t\t\t\t\t\t\t\t\t// \tcase rating < 2:\n\t\t\t\t\t\t\t\t\t// \t\t// code block\n\t\t\t\t\t\t\t\t\t// \t\tbreak;\n\t\t\t\t\t\t\t\t\t// \tcase rating < 3:\n\t\t\t\t\t\t\t\t\t// \t\t// code block\n\t\t\t\t\t\t\t\t\t// \t\tbreak;\n\t\t\t\t\t\t\t\t\t// \tcase rating < 4:\n\t\t\t\t\t\t\t\t\t// \t\t// code block\n\t\t\t\t\t\t\t\t\t// \t\tbreak;\n\t\t\t\t\t\t\t\t\t// \tcase rating < 5:\n\t\t\t\t\t\t\t\t\t// \t\t// code block\n\t\t\t\t\t\t\t\t\t// \t\tbreak;\n\t\t\t\t\t\t\t\t\t// \tdefault:\n\t\t\t\t\t\t\t\t\t// \t// code block\n\t\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<i className=\"fa fa-star starYellow\" aria-hidden=\"true\"></i>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Card.Title>\n\t\t\t\t</Card.ImgOverlay>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}\n\nexport default CardComponent;\n","/Users/inezescandon/htx-tacos/client/src/components/filter/index.js",[],"/Users/inezescandon/htx-tacos/client/src/components/search/index.js",[],["71","72"],{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"73","replacedBy":"77"},{"ruleId":"75","replacedBy":"78"},{"ruleId":"79","severity":1,"message":"80","line":80,"column":31,"nodeType":"81","messageId":"82","endLine":80,"endColumn":33},{"ruleId":"83","severity":1,"message":"84","line":5,"column":1,"nodeType":"85","endLine":9,"endColumn":3},{"ruleId":"73","replacedBy":"86"},{"ruleId":"75","replacedBy":"87"},{"ruleId":"88","severity":1,"message":"89","line":1,"column":17,"nodeType":"90","messageId":"91","endLine":1,"endColumn":26},{"ruleId":"88","severity":1,"message":"92","line":4,"column":8,"nodeType":"90","messageId":"91","endLine":4,"endColumn":26},{"ruleId":"73","replacedBy":"93"},{"ruleId":"75","replacedBy":"94"},{"ruleId":"88","severity":1,"message":"95","line":1,"column":17,"nodeType":"90","messageId":"91","endLine":1,"endColumn":25},{"ruleId":"96","severity":1,"message":"97","line":10,"column":5,"nodeType":"98","endLine":10,"endColumn":7,"suggestions":"99"},{"ruleId":"73","replacedBy":"100"},{"ruleId":"75","replacedBy":"101"},"no-native-reassign",["102"],"no-negated-in-lhs",["103"],["102"],["103"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration",["102"],["103"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'UserLocationMarker' is defined but never used.",["102"],["103"],"'useState' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'ratingAverage'. Either include it or remove the dependency array.","ArrayExpression",["104"],["102"],["103"],"no-global-assign","no-unsafe-negation",{"desc":"105","fix":"106"},"Update the dependencies array to be: [ratingAverage]",{"range":"107","text":"108"},[279,281],"[ratingAverage]"]